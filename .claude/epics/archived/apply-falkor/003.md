---
name: Add FalkorDB environment configuration
status: open
created: 2025-09-05T10:40:37Z
updated: 2025-09-05T10:40:37Z
github: https://github.com/sacahan/graphiti/issues/4
depends_on: []
parallel: true
conflicts_with: [002]
---

# Task: Add FalkorDB environment configuration

## Description

Implement comprehensive environment variable support for FalkorDB configuration, including connection parameters, authentication, and database selection. This enables zero-code configuration changes for FalkorDB deployments.

## Acceptance Criteria

- [ ] Environment variables defined for FalkorDB connection parameters
- [ ] Support for `FALKORDB_HOST`, `FALKORDB_PORT`, `FALKORDB_DATABASE`, `FALKORDB_PASSWORD`
- [ ] Pydantic configuration models for FalkorDB settings
- [ ] Configuration validation with helpful error messages
- [ ] Support for Redis-style connection string format
- [ ] Backward compatibility with existing Neo4j environment variables
- [ ] Documentation for all new environment variables

## Technical Details

### Environment Variable Schema

```bash
# Database Selection
GRAPHITI_DB_TYPE=falkordb|neo4j  # Default: neo4j

# FalkorDB Configuration
FALKORDB_HOST=localhost          # Default: localhost
FALKORDB_PORT=6379              # Default: 6379
FALKORDB_DATABASE=0             # Default: 0
FALKORDB_PASSWORD=              # Optional
FALKORDB_CONNECTION_STRING=     # Alternative: redis://[:password@]host:port/db

# Existing Neo4j variables remain unchanged
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password
```

### Implementation Approach

- Create `FalkorDBConfig` Pydantic model in `graphiti_core/driver/falkordb_driver.py`
- Add environment variable parsing with defaults
- Implement connection string parsing as alternative configuration method
- Add configuration validation with clear error messages
- Ensure configuration is compatible with existing FalkorDB driver

### Code Locations/Files Affected

- Update: `graphiti_core/driver/falkordb_driver.py`
- Update: `graphiti_core/graphiti.py` (configuration parsing)
- Tests: `tests/driver/test_falkordb_config.py`
- Documentation: Update environment variable documentation

## Dependencies

- [ ] Existing FalkorDB driver configuration understood
- [ ] Pydantic model patterns from existing drivers
- [ ] Redis connection string format specification

## Effort Estimate

- **Size**: S
- **Hours**: 4-6 hours
- **Parallel**: true (configuration work independent of factory)

## Definition of Done

- [ ] `FalkorDBConfig` Pydantic model implemented
- [ ] All FalkorDB environment variables supported
- [ ] Connection string parsing working correctly
- [ ] Configuration validation provides helpful error messages
- [ ] Environment variables documented with examples
- [ ] Tests cover all configuration scenarios
- [ ] Configuration compatible with existing FalkorDB driver interface
